[gd_scene load_steps=12 format=3 uid="uid://c5nhofh2vlkh7"]

[ext_resource type="PackedScene" uid="uid://1l3k0jtjf51s" path="res://scenes/ui/item_slot/item_slot.tscn" id="1_x4dyf"]
[ext_resource type="Shader" uid="uid://2iyv7xdg88rp" path="res://resources/shaders/global_colors.gdshader" id="2_1ilo4"]
[ext_resource type="Script" uid="uid://6oc41gdxs30t" path="res://scenes/ui/market_slot/market_slot.gd" id="2_emyxu"]
[ext_resource type="Resource" uid="uid://ph4m0ym8fqf2" path="res://resources/item_containers/market.tres" id="4_6b7rt"]
[ext_resource type="Texture2D" uid="uid://cfsd7yrn4wid4" path="res://assets/textures/ui/convert.png" id="4_hclpw"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yflq4"]
resource_local_to_scene = true
shader = ExtResource("2_1ilo4")
shader_parameter/type = 7
shader_parameter/modulate = Color(1, 1, 1, 1)
shader_parameter/strength = 1.0
shader_parameter/alpha = 1.0
shader_parameter/texture_offset = Vector2(0, 0)
shader_parameter/scale_mode = 0
shader_parameter/scale = 1.0
shader_parameter/saturation = 1.0
shader_parameter/brightness = 0.0
shader_parameter/use_screen_texture = false
shader_parameter/fill = false
shader_parameter/label_mode = false
shader_parameter/outline_type = 0
shader_parameter/outline_color = Color(1, 1, 1, 1)
shader_parameter/outline_pattern = 0
shader_parameter/add_margins = false
shader_parameter/width = 0.0
shader_parameter/flip_colors = false
shader_parameter/inside = false
shader_parameter/enable_dither = false
shader_parameter/dither_colors = PackedInt32Array(0, 0, 0)
shader_parameter/angle = 0.0
shader_parameter/enable_gradient = false
shader_parameter/gradient_blend_mode = 0
shader_parameter/gradient_speed = 1.0
shader_parameter/gradient_size = 1.0
shader_parameter/gradient_animated = false
shader_parameter/gradient_time = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5e3v4"]
shader = ExtResource("2_1ilo4")
shader_parameter/type = 0
shader_parameter/modulate = Color(1, 1, 1, 1)
shader_parameter/strength = 1.0
shader_parameter/alpha = 1.0
shader_parameter/texture_offset = Vector2(0, 0)
shader_parameter/scale_mode = 0
shader_parameter/scale = 1.0
shader_parameter/saturation = 1.0
shader_parameter/brightness = 0.0
shader_parameter/use_screen_texture = false
shader_parameter/fill = false
shader_parameter/label_mode = false
shader_parameter/outline_type = 0
shader_parameter/outline_color = Color(1, 1, 1, 1)
shader_parameter/outline_pattern = 0
shader_parameter/add_margins = false
shader_parameter/width = 0.0
shader_parameter/flip_colors = false
shader_parameter/inside = false
shader_parameter/enable_dither = false
shader_parameter/dither_colors = PackedInt32Array(0, 0, 0)
shader_parameter/angle = 0.0
shader_parameter/enable_gradient = false
shader_parameter/gradient_blend_mode = 0
shader_parameter/gradient_speed = 1.0
shader_parameter/gradient_size = 1.0
shader_parameter/gradient_animated = false
shader_parameter/gradient_time = 0.0

[sub_resource type="AtlasTexture" id="AtlasTexture_vp72w"]
resource_local_to_scene = true
atlas = ExtResource("4_hclpw")
region = Rect2(0, 0, 13, 13)

[sub_resource type="Animation" id="Animation_xpn57"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/alpha")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..:theme_override_constants/separation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}

[sub_resource type="Animation" id="Animation_pt4jk"]
resource_name = "shine"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/alpha")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [1.0, 0.3, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dr0sk"]
_data = {
&"RESET": SubResource("Animation_xpn57"),
&"shine": SubResource("Animation_pt4jk")
}

[node name="MarketSlot" type="VBoxContainer" node_paths=PackedStringArray("animation_player", "convert_texture_rect", "item_slot")]
offset_right = 34.0
offset_bottom = 51.0
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_constants/separation = 4
script = ExtResource("2_emyxu")
animation_player = NodePath("ConvertTextureRect/AnimationPlayer")
convert_texture_rect = NodePath("ConvertTextureRect")
item_slot = NodePath("ItemSlot")
metadata/_edit_horizontal_guides_ = [39.0]

[node name="ItemSlot" parent="." instance=ExtResource("1_x4dyf")]
material = SubResource("ShaderMaterial_yflq4")
layout_mode = 2
item_container_resource = ExtResource("4_6b7rt")

[node name="ConvertTextureRect" type="TextureRect" parent="."]
visible = false
material = SubResource("ShaderMaterial_5e3v4")
custom_minimum_size = Vector2(0, 15)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = SubResource("AtlasTexture_vp72w")
stretch_mode = 4

[node name="AnimationPlayer" type="AnimationPlayer" parent="ConvertTextureRect"]
libraries = {
&"": SubResource("AnimationLibrary_dr0sk")
}
autoplay = "shine"
